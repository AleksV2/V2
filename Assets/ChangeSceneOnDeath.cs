// *********************************************************************************************************************
// File: ChangeSceneOnDeath.cs
// Purpose: When the linked HealthPool dies, change the scene
// Project: Fife College Unity Toolkit
// Copyright Fife College 2018
// *********************************************************************************************************************


// *********************************************************************************************************************
#region Imports
// *********************************************************************************************************************
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
// The scene management library has to be included
using UnityEngine.SceneManagement;
#endregion
// *********************************************************************************************************************


// *********************************************************************************************************************
public class ChangeSceneOnDeath : MonoBehaviour
{
    // *********************************************************************************************************************


    // *****************************************************************************************************************
    #region Variables
    // *****************************************************************************************************************
    // Exposed Variables
    [Tooltip("When this health pool dies, we'll reset the level")]
    public HealthPool m_healthPool;
    public string m_scenename;
    #endregion
    // *****************************************************************************************************************


    // *****************************************************************************************************************
    #region Unity Functions
    // *****************************************************************************************************************
    // Called once per frame
    void Update()
    {
        // If the health pool has died...
        if (m_healthPool.IsAlive() == false)
        {
          

            // Reload the current scene
            SceneManager.LoadScene(m_scenename);
        }
    }
    #endregion
    // *****************************************************************************************************************


}
// *********************************************************************************************************************
